
Codebase
Milesten 3: Etablering af Kerne-Pakker & Generisk Datamodel Fundament

Mål: Oprette og strukturere de delte packages og definere de centrale, generiske datamodeller for platformens indhold.

Status: Ikke påbegyndt.

Opgaver:

Oprettelse/Strukturering af packages/core:

Opgave: Initialiser pakken. Flyt/definer fælles TypeScript interfaces/typer/enums (f.eks. User, Role). Prisma-specifikke decorators hører til i Prisma schema, ikke her.

Filer: packages/core/package.json, packages/core/tsconfig.json, packages/core/src/types/user.types.ts, packages/core/src/index.ts.

Oprettelse/Strukturering af packages/config:

Opgave: Initialiser pakken. Færdiggør centraliseret håndtering af miljøvariabler med Zod-validering.

Filer: packages/config/package.json, packages/config/tsconfig.json, packages/config/src/env.ts, packages/config/src/index.ts.

Refaktorering af apps/api og apps/web til at bruge packages/core og packages/config.

Definition af Generiske Pensum Datamodeller (apps/api/prisma/schema.prisma og packages/core/src/types):

Opgave: Design og implementer Prisma-modeller for:

Course (title, description, slug, subjectAreaId (til at linke til et "fagligt script"/kontekst)).

SubjectArea (eller ContentContext) (name, slug - f.eks. "template-arabic", "lab-tech").

Module (title, description, order, courseId).

Lesson (title, description, order, moduleId).

ContentBlock (type: TEXT, IMAGE_URL, VIDEO_URL, QUIZ_REF; content: string; order; lessonId).

Opgave: Definer tilsvarende TypeScript-typer i packages/core/src/types/pensum.types.ts (eller lignende).

Opgave: Kør Prisma migration.

Definition af Generiske Quiz Datamodeller (apps/api/prisma/schema.prisma og packages/core/src/types):

Opgave: Design og implementer Prisma-modeller for:

Quiz (title, description, lessonId? eller moduleId?).

Question (text, type: MULTIPLE_CHOICE, FILL_IN_BLANK, MATCHING; quizId).

AnswerOption (text, isCorrect, questionId).

UserProgress (userId, lessonId (status: COMPLETED), quizId (score, quizAttemptId)).

QuizAttempt (userId, quizId, score, startedAt, completedAt).

UserAnswer (quizAttemptId, questionId, selectedAnswerOptionId?, inputText?).

Opgave: Definer tilsvarende TypeScript-typer i packages/core/src/types/quiz.types.ts (eller lignende).

Opgave: Kør Prisma migration.